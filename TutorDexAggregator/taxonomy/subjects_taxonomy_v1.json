{
  "name": "TutorDex subjects taxonomy",
  "version": 1,
  "status": "draft",
  "notes": [
    "Goal: allow hierarchical filtering (general vs advanced) while keeping raw meaning.",
    "This v1 taxonomy is designed to map from current LLM output subject strings in TutorDexAggregator/extract_key_info.py (SUBJECTS) plus the extracted level.",
    "Prefer 'UNKNOWN' variants over guessing when the post does not specify E/A Math, H1/H2, etc."
  ],
  "general_categories": [
    { "code": "MATH", "label": "Math" },
    { "code": "ENGLISH", "label": "English" },
    { "code": "SCIENCE", "label": "Science" },
    { "code": "HUMANITIES", "label": "Humanities" },
    { "code": "BUSINESS", "label": "Business/Econs" },
    { "code": "COMP", "label": "Computing" },
    { "code": "ARTS", "label": "Arts/Drama" },
    { "code": "MUSIC", "label": "Music" },
    { "code": "OLYMPIAD", "label": "Olympiad" },
    { "code": "MTL_CHINESE", "label": "Chinese" },
    { "code": "MTL_MALAY", "label": "Malay" },
    { "code": "MTL_TAMIL", "label": "Tamil" },
    { "code": "MTL_HINDI", "label": "Hindi" },
    { "code": "LANG_OTHER", "label": "Other Languages" },
    { "code": "OTHER", "label": "Other" }
  ],
  "canonical_subjects": [
    { "code": "MATH.GENERAL", "label": "Math (General)", "parent": "MATH" },
    { "code": "MATH.SEC_UNKNOWN", "label": "Math (Secondary - unspecified)", "parent": "MATH" },
    { "code": "MATH.SEC_EMATH", "label": "E Math", "parent": "MATH" },
    { "code": "MATH.SEC_AMATH", "label": "A Math", "parent": "MATH" },
    { "code": "MATH.JC_UNKNOWN", "label": "Math (JC - unspecified)", "parent": "MATH" },
    { "code": "MATH.JC_H3", "label": "H3 Math", "parent": "MATH" },
    { "code": "MATH.IBIGCSE_MATH", "label": "Math (IB/IGCSE)", "parent": "MATH" },
    { "code": "MATH.OLYMPIAD", "label": "Math Olympiad", "parent": "OLYMPIAD" },

    { "code": "ENGLISH.GENERAL", "label": "English (General)", "parent": "ENGLISH" },
    { "code": "ENGLISH.PHONICS", "label": "Phonics", "parent": "ENGLISH" },
    { "code": "ENGLISH.CREATIVE_WRITING", "label": "Creative Writing", "parent": "ENGLISH" },
    { "code": "ENGLISH.IBIGCSE_LANGUAGE", "label": "English Language (IB/IGCSE)", "parent": "ENGLISH" },
    { "code": "ENGLISH.IBIGCSE_LITERATURE", "label": "English Literature (IB/IGCSE)", "parent": "ENGLISH" },
    { "code": "ENGLISH.JC_GP", "label": "General Paper", "parent": "ENGLISH" },
    { "code": "ENGLISH.JC_KI", "label": "Knowledge & Inquiry", "parent": "ENGLISH" },
    { "code": "ENGLISH.JC_PW", "label": "Project Work", "parent": "ENGLISH" },

    { "code": "SCIENCE.GENERAL", "label": "Science (General)", "parent": "SCIENCE" },
    { "code": "SCIENCE.PHYSICS", "label": "Physics", "parent": "SCIENCE" },
    { "code": "SCIENCE.CHEMISTRY", "label": "Chemistry", "parent": "SCIENCE" },
    { "code": "SCIENCE.BIOLOGY", "label": "Biology", "parent": "SCIENCE" },
    { "code": "SCIENCE.COMBINED_PHYS_CHEM", "label": "Combined Science (Physics/Chemistry)", "parent": "SCIENCE" },
    { "code": "SCIENCE.COMBINED_BIO_PHYS", "label": "Combined Science (Biology/Physics)", "parent": "SCIENCE" },
    { "code": "SCIENCE.COMBINED_BIO_CHEM", "label": "Combined Science (Biology/Chemistry)", "parent": "SCIENCE" },
    { "code": "SCIENCE.OLYMPIAD", "label": "Science Olympiad", "parent": "OLYMPIAD" },

    { "code": "HUM.GEOGRAPHY", "label": "Geography", "parent": "HUMANITIES" },
    { "code": "HUM.HISTORY", "label": "History", "parent": "HUMANITIES" },
    { "code": "HUM.LITERATURE", "label": "Literature", "parent": "HUMANITIES" },
    { "code": "HUM.SOCIAL_STUDIES", "label": "Social Studies", "parent": "HUMANITIES" },
    { "code": "HUM.GEO_SS", "label": "Geo/Social Studies (Combined)", "parent": "HUMANITIES" },
    { "code": "HUM.HIST_SS", "label": "History/Social Studies (Combined)", "parent": "HUMANITIES" },

    { "code": "BUS.ECONOMICS", "label": "Economics", "parent": "BUSINESS" },
    { "code": "BUS.ACCOUNTING", "label": "Accounting", "parent": "BUSINESS" },
    { "code": "BUS.POA", "label": "Principles of Accounts (POA)", "parent": "BUSINESS" },
    { "code": "BUS.MOB", "label": "Management of Business (MOB)", "parent": "BUSINESS" },
    { "code": "BUS.IB_BUSINESS_MGMT", "label": "Business Management (IB/IGCSE)", "parent": "BUSINESS" },

    { "code": "COMP.COMPUTING", "label": "Computing", "parent": "COMP" },
    { "code": "ARTS.ART", "label": "Art", "parent": "ARTS" },
    { "code": "ARTS.THEATRE_DRAMA", "label": "Theatre/Drama", "parent": "ARTS" },
    { "code": "MUSIC.GENERAL", "label": "Music", "parent": "MUSIC" },

    { "code": "MTL.CHINESE", "label": "Chinese", "parent": "MTL_CHINESE" },
    { "code": "MTL.CHINESE_HIGHER", "label": "Higher Chinese", "parent": "MTL_CHINESE" },
    { "code": "MTL.CHINESE_STUDIES", "label": "Chinese Studies", "parent": "MTL_CHINESE" },
    { "code": "MTL.CHINESE_LANG_LIT", "label": "Chinese Language and Literature", "parent": "MTL_CHINESE" },
    { "code": "MTL.MALAY", "label": "Malay", "parent": "MTL_MALAY" },
    { "code": "MTL.MALAY_HIGHER", "label": "Higher Malay", "parent": "MTL_MALAY" },
    { "code": "MTL.MALAY_STUDIES", "label": "Malay Studies", "parent": "MTL_MALAY" },
    { "code": "MTL.MALAY_LANG_LIT", "label": "Malay Language and Literature", "parent": "MTL_MALAY" },
    { "code": "MTL.TAMIL", "label": "Tamil", "parent": "MTL_TAMIL" },
    { "code": "MTL.TAMIL_HIGHER", "label": "Higher Tamil", "parent": "MTL_TAMIL" },
    { "code": "MTL.TAMIL_STUDIES", "label": "Tamil Studies", "parent": "MTL_TAMIL" },
    { "code": "MTL.TAMIL_LANG_LIT", "label": "Tamil Language and Literature", "parent": "MTL_TAMIL" },
    { "code": "MTL.HINDI", "label": "Hindi", "parent": "MTL_HINDI" },

    { "code": "LANG_OTHER.JAPANESE", "label": "Japanese", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.KOREAN", "label": "Korean", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.FRENCH", "label": "French", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.GERMAN", "label": "German", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.SPANISH", "label": "Spanish", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.RUSSIAN", "label": "Russian", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.ITALIAN", "label": "Italian", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.ARABIC", "label": "Arabic", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.VIETNAMESE", "label": "Vietnamese", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.THAI", "label": "Thai", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.INDONESIAN", "label": "Indonesian", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.TAGALOG", "label": "Tagalog", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.PORTUGUESE", "label": "Portuguese", "parent": "LANG_OTHER" },
    { "code": "LANG_OTHER.BENGALI", "label": "Bengali", "parent": "LANG_OTHER" },

    { "code": "OTHER.OTHERS", "label": "Others", "parent": "OTHER" }
  ],
  "mapping": {
    "inputs": ["level", "subjects[]"],
    "output_arrays": ["subjects_canonical[]", "subjects_general[]"],
    "rules": [
      "Never guess advanced variants when not stated (use *_UNKNOWN).",
      "For combined subjects (e.g. Physics/Chem), output combined code AND component codes.",
      "Always populate subjects_general as the set of parent categories for subjects_canonical."
    ],
    "by_level_subject_name_to_codes": {
      "Pre-School": {
        "English": ["ENGLISH.GENERAL"],
        "Chinese": ["MTL.CHINESE"],
        "Maths": ["MATH.GENERAL"],
        "Phonics": ["ENGLISH.PHONICS"],
        "Creative Writing": ["ENGLISH.CREATIVE_WRITING"],
        "Malay": ["MTL.MALAY"],
        "Tamil": ["MTL.TAMIL"]
      },
      "Primary": {
        "English": ["ENGLISH.GENERAL"],
        "Maths": ["MATH.GENERAL"],
        "Science": ["SCIENCE.GENERAL"],
        "Chinese": ["MTL.CHINESE"],
        "Higher Chinese": ["MTL.CHINESE_HIGHER"],
        "Malay": ["MTL.MALAY"],
        "Higher Malay": ["MTL.MALAY_HIGHER"],
        "Tamil": ["MTL.TAMIL"],
        "Higher Tamil": ["MTL.TAMIL_HIGHER"],
        "Hindi": ["MTL.HINDI"],
        "Creative Writing": ["ENGLISH.CREATIVE_WRITING"],
        "Phonics": ["ENGLISH.PHONICS"],
        "Maths Olympiad": ["MATH.OLYMPIAD"],
        "Science Olympiad": ["SCIENCE.OLYMPIAD"]
      },
      "Secondary": {
        "English": ["ENGLISH.GENERAL"],
        "Chinese": ["MTL.CHINESE"],
        "Higher Chinese": ["MTL.CHINESE_HIGHER"],
        "Maths": ["MATH.SEC_UNKNOWN"],
        "Science": ["SCIENCE.GENERAL"],
        "E Maths": ["MATH.SEC_EMATH"],
        "A Maths": ["MATH.SEC_AMATH"],
        "Physics": ["SCIENCE.PHYSICS"],
        "Chemistry": ["SCIENCE.CHEMISTRY"],
        "Biology": ["SCIENCE.BIOLOGY"],
        "Physics/Chem": ["SCIENCE.COMBINED_PHYS_CHEM", "SCIENCE.PHYSICS", "SCIENCE.CHEMISTRY"],
        "Bio/Physics": ["SCIENCE.COMBINED_BIO_PHYS", "SCIENCE.BIOLOGY", "SCIENCE.PHYSICS"],
        "Bio/Chem": ["SCIENCE.COMBINED_BIO_CHEM", "SCIENCE.BIOLOGY", "SCIENCE.CHEMISTRY"],
        "Geography": ["HUM.GEOGRAPHY"],
        "History": ["HUM.HISTORY"],
        "Literature": ["HUM.LITERATURE"],
        "Accounting (POA)": ["BUS.POA"],
        "Social Studies": ["HUM.SOCIAL_STUDIES"],
        "Geo/S.Studies": ["HUM.GEO_SS"],
        "Hist/S.Studies": ["HUM.HIST_SS"],
        "Malay": ["MTL.MALAY"],
        "Tamil": ["MTL.TAMIL"],
        "Higher Malay": ["MTL.MALAY_HIGHER"],
        "Higher Tamil": ["MTL.TAMIL_HIGHER"],
        "Hindi": ["MTL.HINDI"],
        "Music": ["MUSIC.GENERAL"]
      },
      "Junior College": {
        "General Paper": ["ENGLISH.JC_GP"],
        "Maths": ["MATH.JC_UNKNOWN"],
        "Physics": ["SCIENCE.PHYSICS"],
        "Chemistry": ["SCIENCE.CHEMISTRY"],
        "Biology": ["SCIENCE.BIOLOGY"],
        "Economics": ["BUS.ECONOMICS"],
        "Accounting": ["BUS.ACCOUNTING"],
        "History": ["HUM.HISTORY"],
        "Geography": ["HUM.GEOGRAPHY"],
        "Literature": ["HUM.LITERATURE"],
        "Chinese": ["MTL.CHINESE"],
        "Malay": ["MTL.MALAY"],
        "Tamil": ["MTL.TAMIL"],
        "Chinese Studies": ["MTL.CHINESE_STUDIES"],
        "Malay Studies": ["MTL.MALAY_STUDIES"],
        "Tamil Studies": ["MTL.TAMIL_STUDIES"],
        "Knowledge & Inquiry": ["ENGLISH.JC_KI"],
        "Project Work": ["ENGLISH.JC_PW"],
        "Computing": ["COMP.COMPUTING"],
        "Art": ["ARTS.ART"],
        "Theatre Studies & Drama": ["ARTS.THEATRE_DRAMA"],
        "Management of Business": ["BUS.MOB"],
        "H3 Maths": ["MATH.JC_H3"]
      },
      "IGCSE": {
        "Maths": ["MATH.IBIGCSE_MATH"],
        "English": ["ENGLISH.GENERAL"],
        "Physics": ["SCIENCE.PHYSICS"],
        "Chemistry": ["SCIENCE.CHEMISTRY"],
        "Biology": ["SCIENCE.BIOLOGY"]
      },
      "International Baccalaureate": {
        "Maths": ["MATH.IBIGCSE_MATH"],
        "English": ["ENGLISH.GENERAL"],
        "Physics": ["SCIENCE.PHYSICS"],
        "Chemistry": ["SCIENCE.CHEMISTRY"],
        "Biology": ["SCIENCE.BIOLOGY"]
      },
      "IB/IGCSE": {
        "English Language": ["ENGLISH.IBIGCSE_LANGUAGE"],
        "English Literature": ["ENGLISH.IBIGCSE_LITERATURE"],
        "Chinese": ["MTL.CHINESE"],
        "Mathematics": ["MATH.IBIGCSE_MATH"],
        "Mathematical Studies": ["MATH.IBIGCSE_MATH"],
        "Physics": ["SCIENCE.PHYSICS"],
        "Chemistry": ["SCIENCE.CHEMISTRY"],
        "Biology": ["SCIENCE.BIOLOGY"],
        "Business Management": ["BUS.IB_BUSINESS_MGMT"],
        "Economics": ["BUS.ECONOMICS"],
        "Psychology": ["OTHER.OTHERS"],
        "Theory of Knowledge": ["OTHER.OTHERS"],
        "Extended Essay": ["OTHER.OTHERS"],
        "Theatre": ["ARTS.THEATRE_DRAMA"],
        "Geography": ["HUM.GEOGRAPHY"],
        "History": ["HUM.HISTORY"],
        "Malay": ["MTL.MALAY"],
        "Tamil": ["MTL.TAMIL"],
        "Music": ["MUSIC.GENERAL"],
        "Visual Arts": ["ARTS.ART"],
        "Drama": ["ARTS.THEATRE_DRAMA"],
        "Art & Design": ["ARTS.ART"],
        "IGTS": ["OTHER.OTHERS"]
      }
    }
  }
}
