# Redis connection
REDIS_URL=redis://localhost:6379/0
REDIS_PREFIX=tutordex

# Environment mode
# - dev: missing ADMIN_API_KEY is allowed (to ease local iteration)
# - prod: ADMIN_API_KEY is required at startup
# APP_ENV=dev

# Matching threshold
MATCH_MIN_SCORE=3

# Optional Supabase persistence (recommended)
# SUPABASE_ENABLED=true
# SUPABASE_URL=https://<project-ref>.supabase.co            # Supabase Cloud
# SUPABASE_URL=https://supabase-api.example.com             # Supabase self-host (Kong public URL; no /rest/v1 suffix)
# SUPABASE_SERVICE_ROLE_KEY=

# Optional Firebase Auth enforcement for website calls
# FIREBASE_ADMIN_ENABLED=true
# Put the JSON at `TutorDexBackend/secrets/firebase-admin-service-account.json` and mount it via the root `docker-compose.yml`.
# FIREBASE_ADMIN_CREDENTIALS_PATH=/run/secrets/firebase-admin-service-account.json
# AUTH_REQUIRED=true
# CORS_ALLOW_ORIGINS=*

# Optional admin/bot auth (recommended)
# ADMIN_API_KEY=

# ----------------------------
# Click tracking (tracked links + broadcast edit)
# ----------------------------
# CLICK_TRACKING_SECRET=change-me
# TRACKING_EDIT_BOT_TOKEN=            # must match the bot that posted the broadcast message
# CLICK_EDIT_MIN_INTERVAL_SECONDS=20
# CLICK_TRACKING_IP_COOLDOWN_SECONDS=10   # per-IP cooldown to prevent click spam (set 0 to disable)

# Logging (optional)
# LOG_LEVEL=INFO
# LOG_TO_CONSOLE=true
# LOG_TO_FILE=true
# LOG_JSON=false
# LOG_DIR=TutorDexBackend\\logs
# LOG_FILE=tutordex_backend.log
# LOG_MAX_BYTES=5000000
# LOG_BACKUP_COUNT=5
