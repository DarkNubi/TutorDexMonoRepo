---
# =============================================================================
# TutorDex Homepage Widgets
# Doctrine-compliant: READ-ONLY metrics display only
# =============================================================================
# 
# These widgets display system health metrics from Prometheus.
# They are read-only observations with no mutation capabilities.
# 
# Aligned with TutorDex Infrastructure Operating Doctrine:
# - Homepage = Observe (show metrics, not change them)
# - Grafana = Understand (deep analysis, not shown here)
# - Alertmanager = Interrupt (alerts, not shown here)
# =============================================================================

# System metrics via Prometheus (read-only queries)
- prometheus:
    href: http://prometheus:9090
    fields:
      - CPU Usage:
          query: 100 - (avg by (instance) (rate(node_cpu_seconds_total{mode="idle"}[5m])) * 100)
          suffix: "%"
      - Memory Usage:
          query: 100 - ((node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes) * 100)
          suffix: "%"
      - Disk Usage:
          query: 100 - ((node_filesystem_avail_bytes{mountpoint="/"} / node_filesystem_size_bytes{mountpoint="/"}) * 100)
          suffix: "%"
